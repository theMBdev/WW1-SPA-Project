<body>   
    <head>
        <meta charset="UTF-8">
        <title>JSON Tester</title>
    </head>

    <title>Page with slide</title>
    
    <h1>Page with</h1>
    
    
    <div id="slide"></div>

    <script>

// load wepons json
contentLoader.loadJson('slidedata.json', function(err, jsonData) {
    if (err) { throw err; }    

    console.log('Data slide', jsonData['slideshow1'])
    var slide = jsonData['slideshow1'];    

    console.log(slide[1].title);
    console.log(slide[0].body);

    console.log(slide[2].title);
    console.log(slide[1].body);



    const markup = `

<div class="slideshow-container">

${slide.map(slideData =>

`<div class="mySlides fade">              
<div class="mySlides__title">
<h2>${slideData.title}</h2>
        </div>

<div class="mySlides__text">
<p>${slideData.body}</p>
        </div>

        </div>`
           ).join("")}

<a class="prev" id="prev"> &#10094;</a>
<a class="next" id="plus"> &#10095;</a>

        </div>
<br>

<div style="text-align:center">
<span class="dot" id="dot1"></span> 
<span class="dot" id="dot2"></span> 
<span class="dot" id="dot3"></span> 
<span class="dot" id="dot4"></span> 

        </div>

`;

    // above attatched page updator to left slide button and it changed the page, create a new contentLoader function
    // that pulls in the next slide from the json file !!!solution

    // THE GOLDEN GOOSE CODE
//    function hasClass(elem, className) {
//        return elem.className.split(' ').indexOf(className) > -1;
//    }    

//    document.addEventListener('click', function (e) {
//        if (hasClass(e.target, 'next')) {
////            plusSlides(1);    
//
//        } else if (hasClass(e.target, 'prev')) {
//            plusSlides(-1)
//
//        } else if (hasClass(e.target, 'dot')) {
//           currentSlide(1);
//        }
//        else if (hasClass(e.target, 'four')) {
//            alert('four');
//        }
//
//    }, false);

    document.getElementById('slide').innerHTML = markup;
    
});

$(document).ready(function() {

    var slideIndex = 1;
    // Start by calling main slide function
    showSlides(slideIndex);


    // new addEventListener replaces inline onclick()
    document.getElementById("prev").addEventListener("click", arrowControler, false);
    document.getElementById("prev").myParam = -1;
    
    document.getElementById("plus").addEventListener("click", arrowControler, false);
    document.getElementById("plus").myParam = 1;
    
    document.getElementById("dot1").addEventListener("click", dotControler, false);
    document.getElementById("dot1").myParam = 1;
    
    document.getElementById("dot2").addEventListener("click", dotControler, false);
    document.getElementById("dot2").myParam = 2;
    
    document.getElementById("dot3").addEventListener("click", dotControler, false);
    document.getElementById("dot3").myParam = 3;
    
    document.getElementById("dot4").addEventListener("click", dotControler, false);
    document.getElementById("dot4").myParam = 4;
    
    
    function arrowControler(evt) 
    {
        showSlides(slideIndex += evt.target.myParam);	
    }
    
    function dotControler(evt) 
    {
        currentSlide(evt.target.myParam);	
    }
    
    
    
// functions for slide
    function plusSlides(n) {
        showSlides(slideIndex += n);
        //myMove(slideIndex);   
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
        //myMove(slideIndex);    
    }

    function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");

        // go back to slide one
        if (n > slides.length) {slideIndex = 1} 
        // go to last slide
        if (n < 1) {slideIndex = slides.length}

        // hide all slides
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";  
        }

        // 
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace("active", "");
        }

        // show first slide
        slides[slideIndex - 1].style.display = "block"; 
        // darken first dot
        dots[slideIndex - 1].className += " active";
    }   

});




    </script>

</body>


